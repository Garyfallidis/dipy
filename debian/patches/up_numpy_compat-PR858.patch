From f0f4fb7e6e7d095acf0202f32099f316662e5bdb Mon Sep 17 00:00:00 2001
From: arokem <arokem@gmail.com>
Date: Tue, 2 Feb 2016 16:50:57 -0800
Subject: [PATCH 1/5] BF: This will throw an error on np 1.11

---
 dipy/tracking/local/tests/test_local_tracking.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/dipy/tracking/local/tests/test_local_tracking.py
+++ b/dipy/tracking/local/tests/test_local_tracking.py
@@ -89,10 +89,10 @@ def test_stop_conditions():
     # are rejected.
     npt.assert_equal(len(list(streamlines)), 0)
 
-    bad_affine = np.eye(3.)
+    bad_affine = np.eye(3)
     npt.assert_raises(ValueError, LocalTracking, dg, tc, seeds, bad_affine, 1.)
 
-    bad_affine = np.eye(4.)
+    bad_affine = np.eye(4)
     bad_affine[0, 1] = 1.
     npt.assert_raises(ValueError, LocalTracking, dg, tc, seeds, bad_affine, 1.)
 
--- a/dipy/reconst/tests/test_shm.py
+++ b/dipy/reconst/tests/test_shm.py
@@ -278,7 +278,7 @@ def test_SphHarmFit():
     assert_equal(item.shape, ())
     slice = fit[0]
     assert_equal(slice.shape, (4, 5))
-    slice = fit[..., 0]
+    slice = fit[:, :, 0]
     assert_equal(slice.shape, (3, 4))
 
 
--- a/dipy/tracking/tests/test_markov.py
+++ b/dipy/tracking/tests/test_markov.py
@@ -250,7 +250,7 @@ def test_ProbabilisticOdfWeightedTracker
 
     class MyFit(object):
         def __init__(self, n):
-            self.n = n
+            self.n = int(n)
 
         def odf(self, sphere):
             return odf_list[self.n]
--- a/dipy/direction/peaks.py
+++ b/dipy/direction/peaks.py
@@ -243,7 +243,7 @@ def _peaks_from_model_parallel(model, da
                            mode='w+',
                            shape=(data.shape[0], npeaks))
         if return_sh:
-            nbr_shm_coeff = (sh_order + 2) * (sh_order + 1) / 2
+            nbr_shm_coeff = (sh_order + 2) * (sh_order + 1) // 2
             pam.shm_coeff = np.memmap(path.join(tmpdir, 'shm.npy'),
                                       dtype=pam_res[0].shm_coeff.dtype,
                                       mode='w+',
